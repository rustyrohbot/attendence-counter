{{define "content"}}
<div class="bg-white rounded-lg shadow-md p-6 max-w-2xl">
    <h2 class="text-2xl font-semibold mb-4">Edit Attendance</h2>

    <form method="post" action="/attendance/{{.Attendance.ID}}" class="space-y-4">
        <div>
            <label for="date" class="block text-sm font-medium text-gray-700">Date</label>
            <input type="date" id="date" name="date" value="{{.Attendance.Date}}" required
                   class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
        </div>

        <div>
            <label for="work_location" class="block text-sm font-medium text-gray-700">Work Location</label>
            <select id="work_location" name="work_location"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                <option value="">Select location</option>
                <option value="OFFICE" {{if eq .Attendance.WorkLocation.String "OFFICE"}}selected{{end}}>Office</option>
                <option value="REMOTE" {{if eq .Attendance.WorkLocation.String "REMOTE"}}selected{{end}}>Remote</option>
                <option value="HOLIDAY" {{if eq .Attendance.WorkLocation.String "HOLIDAY"}}selected{{end}}>Holiday</option>
                <option value="SICK" {{if eq .Attendance.WorkLocation.String "SICK"}}selected{{end}}>Sick</option>
                <option value="VACATION" {{if eq .Attendance.WorkLocation.String "VACATION"}}selected{{end}}>Vacation</option>
            </select>
        </div>

        <div>
            <label for="work_city" class="block text-sm font-medium text-gray-700">Work City</label>
            <input type="text" id="work_city" name="work_city" value="{{.Attendance.WorkCity.String}}"
                   class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
        </div>

        <div>
            <label for="day" class="block text-sm font-medium text-gray-700">Day of Week</label>
            <select id="day" name="day"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                <option value="">Select day</option>
                <option value="MONDAY" {{if eq .Attendance.Day.String "MONDAY"}}selected{{end}}>Monday</option>
                <option value="TUESDAY" {{if eq .Attendance.Day.String "TUESDAY"}}selected{{end}}>Tuesday</option>
                <option value="WEDNESDAY" {{if eq .Attendance.Day.String "WEDNESDAY"}}selected{{end}}>Wednesday</option>
                <option value="THURSDAY" {{if eq .Attendance.Day.String "THURSDAY"}}selected{{end}}>Thursday</option>
                <option value="FRIDAY" {{if eq .Attendance.Day.String "FRIDAY"}}selected{{end}}>Friday</option>
                <option value="SATURDAY" {{if eq .Attendance.Day.String "SATURDAY"}}selected{{end}}>Saturday</option>
                <option value="SUNDAY" {{if eq .Attendance.Day.String "SUNDAY"}}selected{{end}}>Sunday</option>
            </select>
        </div>

        <div>
            <label for="year_week" class="block text-sm font-medium text-gray-700">Year Week</label>
            <input type="number" id="year_week" name="year_week" value="{{.Attendance.YearWeek.Int64}}"
                   class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
        </div>

        <div>
            <label for="notes" class="block text-sm font-medium text-gray-700">Notes</label>
            <textarea id="notes" name="notes" rows="3"
                      class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">{{.Attendance.Notes.String}}</textarea>
        </div>

        <div>
            <label for="blockers" class="block text-sm font-medium text-gray-700">Blockers</label>
            <textarea id="blockers" name="blockers" rows="3"
                      class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">{{.Attendance.Blockers.String}}</textarea>
        </div>

        <div>
            <label for="in_flight" class="block text-sm font-medium text-gray-700">In Flight</label>
            <textarea id="in_flight" name="in_flight" rows="3"
                      class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">{{.Attendance.InFlight.String}}</textarea>
        </div>

        <div class="flex gap-4">
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                Update Attendance
            </button>
            <a href="/" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400">Cancel</a>
        </div>
    </form>
</div>
{{end}}